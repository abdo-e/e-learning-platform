<div class="profile-container" style="max-width: 1200px; margin: 0 auto; padding: 20px;">
    <!-- Header -->
    <div style="margin-bottom: 30px;">
        <h1 style="font-size: 32px; font-weight: bold; color: #1a202c; margin-bottom: 8px;">
            Welcome, {{ userName }}!
        </h1>
        <p style="color: #718096; font-size: 16px;">Track your learning progress and achievements</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" style="text-align: center; padding: 40px;">
        <p style="color: #718096;">Loading your dashboard...</p>
    </div>

    <!-- Stats Cards -->
    <div *ngIf="!loading && stats"
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
        <!-- Enrolled Courses -->
        <div
            style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; padding: 24px; color: white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">ğŸ“š Enrolled Courses</div>
            <div style="font-size: 36px; font-weight: bold;">{{ stats.totalEnrolled }}</div>
        </div>

        <!-- Completed Courses -->
        <div
            style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 12px; padding: 24px; color: white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">âœ… Completed</div>
            <div style="font-size: 36px; font-weight: bold;">{{ stats.totalCompleted }}</div>
        </div>

        <!-- Certificates -->
        <div
            style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 12px; padding: 24px; color: white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">ğŸ† Certificates</div>
            <div style="font-size: 36px; font-weight: bold;">{{ stats.totalCertificates }}</div>
        </div>

        <!-- Learning Hours -->
        <div
            style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); border-radius: 12px; padding: 24px; color: white; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">â±ï¸ Learning Time</div>
            <div style="font-size: 36px; font-weight: bold;">{{ stats.totalLearningMinutes }}</div>
            <div style="font-size: 12px; opacity: 0.8;">minutes</div>
        </div>
    </div>

    <!-- Certificates Section -->
    <div *ngIf="certificates.length > 0"
        style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 30px;">
        <h2 style="font-size: 24px; font-weight: bold; color: #1a202c; margin-bottom: 20px;">
            ğŸ“ Your Certificates
        </h2>
        <div style="display: grid; gap: 16px;">
            <div *ngFor="let cert of certificates"
                style="display: flex; justify-content: space-between; align-items: center; padding: 16px; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s;"
                onmouseover="this.style.borderColor='#667eea'; this.style.boxShadow='0 4px 6px rgba(102,126,234,0.1)'"
                onmouseout="this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'">
                <div>
                    <div style="font-weight: 600; color: #2d3748; margin-bottom: 4px;">{{ cert.courseTitle }}</div>
                    <div style="font-size: 14px; color: #718096;">Completed: {{ formatDate(cert.completedAt) }}</div>
                </div>
                <button (click)="downloadCertificate(cert.courseId)"
                    style="background: #667eea; color: white; padding: 8px 16px; border-radius: 6px; border: none; cursor: pointer; font-weight: 500; transition: all 0.3s;"
                    onmouseover="this.style.background='#5568d3'" onmouseout="this.style.background='#667eea'">
                    ğŸ“¥ Download PDF
                </button>
            </div>
        </div>
    </div>

    <!-- Recent Activity -->
    <div *ngIf="stats && stats.recentActivity && stats.recentActivity.length > 0"
        style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <h2 style="font-size: 24px; font-weight: bold; color: #1a202c; margin-bottom: 20px;">
            ğŸ“Š Recent Activity
        </h2>
        <div style="display: grid; gap: 12px;">
            <div *ngFor="let activity of stats.recentActivity"
                style="display: flex; align-items: center; padding: 12px; border-left: 4px solid"
                [style.border-left-color]="activity.passed ? '#48bb78' : '#f56565'"
                style="background: #f7fafc; border-radius: 4px;">
                <div style="flex: 1;">
                    <div style="font-weight: 500; color: #2d3748;">Quiz Attempt</div>
                    <div style="font-size: 14px; color: #718096;">{{ formatDate(activity.date) }}</div>
                </div>
                <div [style.color]="activity.passed ? '#48bb78' : '#f56565'" style="font-weight: 600;">
                    {{ activity.passed ? 'âœ… Passed' : 'âŒ Failed' }}
                </div>
            </div>
        </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && stats && stats.totalEnrolled === 0"
        style="text-align: center; padding: 60px 20px; background: white; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ“š</div>
        <h3 style="font-size: 20px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">No courses yet!</h3>
        <p style="color: #718096; margin-bottom: 24px;">Start learning by enrolling in a course</p>
        <a href="/main"
            style="display: inline-block; background: #667eea; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 500; transition: all 0.3s;"
            onmouseover="this.style.background='#5568d3'" onmouseout="this.style.background='#667eea'">
            Browse Courses
        </a>
    </div>
</div>